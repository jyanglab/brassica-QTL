knitr::opts_knit$set(root.dir=normalizePath('../../'))
knitr::opts_knit$set(warnings = TRUE, include=TRUE, echo=TRUE)
library(tidyverse)
info <- read.csv("data/Table_S1_Sample_informationsMar2017.csv")
dim(info)
tail(info)
knitr::opts_knit$set(root.dir=normalizePath('../../'))
knitr::opts_knit$set(warnings = TRUE, include=TRUE, echo=TRUE)
library(tidyverse)
head(info)
theme_set(theme_grey(base_size = 18))
pl <- ggplot(data=info) +
geom_bar(aes(x=Country, color=Region))
pl
theme_set(theme_grey(base_size = 18))
pl <- ggplot(data=info) +
geom_bar(aes(x=Country))
pl
fsize = 18
theme_set(theme_grey(base_size = 18))
pl <- ggplot(data=info) +
geom_bar(aes(x=Country)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1),
axis.text=element_text(size=fsize),
axis.title=element_text(size=fsize, face="bold"),
legend.title = element_text(size=fsize, face="bold"),
legend.text = element_text(size=fsize))
pl
fsize = 15
theme_set(theme_grey(base_size = 18))
pl <- ggplot(data=info) +
geom_bar(aes(x=Country)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1),
axis.text=element_text(size=fsize),
axis.title=element_text(size=fsize, face="bold"),
legend.title = element_text(size=fsize, face="bold"),
legend.text = element_text(size=fsize))
pl
Afghanistan
fsize = 15
theme_set(theme_grey(base_size = 18))
pl <- ggplot(data=info) +
geom_bar(aes(x=Country)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1),
axis.text=element_text(size=fsize),
axis.title=element_text(size=fsize, face="bold"),
legend.title = element_text(size=fsize, face="bold"),
legend.text = element_text(size=fsize))
pl
files <- list.files(path = "largedata/GRIN-pheno/", pattern = "csv", full.names=TRUE)
length(files)
files
knitr::opts_knit$set(root.dir=normalizePath('../../'))
knitr::opts_knit$set(warnings = TRUE, include=TRUE, echo=TRUE)
library(tidyverse)
files <- list.files(path = "largedata/GRIN-pheno/", pattern = "csv", full.names=TRUE)
length(files)
files[1]
g <- read.csv(files[1])
?read.csv
g <- read.csv(files[1], skip=2)
head(g)
?readLines
con <- file(files[1], "r")
trait <- readLines(con, n=1)
close(con)
trait
fsize = 15
theme_set(theme_grey(base_size = 18))
pl <- ggplot(data=info) +
geom_bar(aes(x=Country)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1),
axis.text=element_text(size=fsize),
axis.title=element_text(size=fsize, face="bold"),
legend.title = element_text(size=fsize, face="bold"),
legend.text = element_text(size=fsize))
pl
files <- list.files(path = "largedata/GRIN-pheno/", pattern = "csv", full.names=TRUE)
for(i in 1:length(files)){
g <- read.csv(files[1], skip=2)
con <- file(files[1], "r")
trait <- readLines(con, n=1)
close(con)
print(trait)
head(g)
}
files <- list.files(path = "largedata/GRIN-pheno/", pattern = "csv", full.names=TRUE)
for(i in 1:length(files)){
g <- read.csv(files[i], skip=2)
con <- file(files[i], "r")
trait <- readLines(con, n=1)
close(con)
print(trait)
print(head(g))
}
files <- list.files(path = "largedata/GRIN-pheno/", pattern = "csv", full.names=TRUE)
for(i in 1:length(files)){
g <- read.csv(files[i], skip=2)
con <- file(files[i], "r")
trait <- readLines(con, n=1)
close(con)
print(trait)
print(head(g))
}
files
files <- list.files(path = "largedata/GRIN-pheno/", pattern = "csv", full.names=TRUE)
for(i in 1:length(files)){
g <- read.csv(files[i], skip=2)
con <- file(files[i], "r")
trait <- readLines(con, n=1)
close(con)
print(trait)
print(head(g))
}
info <- read.csv("data/Table_S1_Sample_informationsMar2017.csv")
head(info)
info$Accession <- gsub(" ", "", info$Accession)
head(info)
i = 1
g <- read.csv(files[i], skip=2)
head(g)
head(info)
g$uid <- paste0(g$accession_prefix, g$accession_number)
head(g)
subg <- subset(g, uid %in% info$Accession)
dim(subg)
subg
info <- read.csv("data/Table_S1_Sample_informationsMar2017.csv")
info$Accession <- gsub(" ", "", info$Accession)
#files <- list.files(path = "largedata/GRIN-pheno/", pattern = "csv", full.names=TRUE)
for(i in 1:length(files)){
g <- read.csv(files[i], skip=2)
g$uid <- paste0(g$accession_prefix, g$accession_number)
subg <- subset(g, uid %in% info$Accession)
print(nrow(subg))
}
head(subg)
